<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hydroex Calculator</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .container {
        display: flex;
        flex-direction: row;
        gap: 2rem;
        justify-content: center;
        align-items: flex-start;
        width: auto;
      }

      .left-panel {
        width: 30%;
      }

      .right-panel {
        display: flex;
        flex-direction: column;
        gap: 1.3rem;
        width: 70%;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      table,
      th,
      td {
        border: 1px solid #ddd;
      }

      th,
      td {
        text-align: left;
        padding: 8px;
      }

      th {
        background-color: #f2f2f2;
      }

      .section {
        background: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }

      h3 {
        margin-top: 0;
      }

      label,
      p {
        margin-bottom: 10px;
      }

      input {
        width: calc(100% - 20px);
        padding: 8px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 4px;
      }

      button {
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      button:hover {
        background: #0056b3;
      }

      .table-container {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Input and Corrected Data Section -->
      <div class="left-panel">
        <div class="section">
          <h3>Inputs</h3>

          <label for="volume">Volume:</label>
          <input
            type="number"
            id="volume"
            placeholder="840.68 m³"
          /><br /><br />
          <label for="pitLength">Pit Length:</label>
          <input
            type="number"
            id="pitLength"
            placeholder="49.28 m"
          /><br /><br />
          <label for="pitWidth">Pit Width:</label>
          <input
            type="number"
            id="pitWidth"
            placeholder="8.09 m"
          /><br /><br />
          <label for="pitDepth">Pit Depth:</label>
          <input
            type="number"
            id="pitDepth"
            placeholder="2.11 m"
          /><br /><br />
          <button onclick="calculate()">Calculate</button>
        </div>
        <div class="section">
          <h3>Correct Pit Dimension</h3>
          <p>Pit Length: <span id="correctedPitLength">0</span> m</p>
          <p>Pit Width: <span id="correctedPitWidth">0</span> m</p>
          <p>Pit Depth: <span id="correctedPitDepth">0</span> m</p>
        </div>
      </div>

      <!-- Output Tables Section -->
      <div class="right-panel">
        <!-- Structure Dimension Table -->
        <div class="section">
          <h3>Structure Dimension</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Value</th>
                  <th>Units</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Input Storage Volume</td>
                  <td id="inputStorageVolume">0</td>
                  <td>m³</td>
                </tr>
                <tr>
                  <td>Total no. of Tanks Required</td>
                  <td id="totalTank">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>No. of tank in Length side</td>
                  <td id="tankLengthSide">0</td>
                  <td>no.s</td>
                </tr>
                <tr>
                  <td>No. of tank in Width side</td>
                  <td id="tankWidthSide">0</td>
                  <td>no.s</td>
                </tr>
                <tr>
                  <td>No. of Layer</td>
                  <td id="tankDepthSide">0</td>
                  <td>no.s</td>
                </tr>
                <tr>
                  <td>Tank area per layer</td>
                  <td id="tankAreaPerLayer">0</td>
                  <td>m²</td>
                </tr>
                <tr>
                  <td>Gross volume</td>
                  <td id="grossVolume">0</td>
                  <td>m³</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Bill of Material Table -->
        <div class="section">
          <h3>Bill Of Material</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Material</th>
                  <th>Product Images</th>
                  <th>Quantity</th>
                  <th>Units</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Module</td>
                  <td>
                    <img
                      src="./images/Module.jpg"
                      alt="module"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="module">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Large Side Wall Lattice</td>
                  <td>
                    <img
                      src="./images/LargeSideLattice.jpg"
                      alt="largeSideWallLattice"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="largeSideWallLattice">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Small Side Wall Lattice</td>
                  <td>
                    <img
                      src="./images/SmallSideLattice.jpg"
                      alt="smallSideWallLattice"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="smallSideWallLattice">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Top Surface Protector</td>
                  <td>
                    <img
                      src="./images/TopSurfaceProtector.jpg"
                      alt="topSurfaceProtector"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="topSurfaceProtector">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Bespoke Structure Single Block Connector</td>
                  <td>
                    <img
                      src="./images/BespokeSingleConnector.jpg"
                      alt="bespokeStructureSingleBlockConnector"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="bespokeStructureSingleBlockConnector">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Bespoke Structure Multi Block Connector</td>
                  <td>
                    <img
                      src="./images/BespokeDoubleConnector.jpg"
                      alt="bespokeStructureMultiBlockConnector"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="bespokeStructureMultiBlockConnector">0</td>
                  <td>pcs</td>
                </tr>
                <tr>
                  <td>Geotextile</td>
                  <td>
                    <img
                      src="./images/GeoTextile.jpg"
                      alt="geotextile"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="geotextile">0</td>
                  <td>m²</td>
                </tr>
                <tr>
                  <td>Impermeable Membrane</td>
                  <td>
                    <img
                      src="./images/ImperialMembrane.jpg"
                      alt="impermeableMembrane"
                      style="height: 50px; width: 70px"
                    />
                  </td>
                  <td id="impermeableMembrane">0</td>
                  <td>m²</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <script>
      function calculate() {
        // Get input values
        let volume = parseFloat(document.getElementById("volume").value);
        let pitLength = parseFloat(document.getElementById("pitLength").value);
        let pitWidth = parseFloat(document.getElementById("pitWidth").value);
        let pitDepth = parseFloat(document.getElementById("pitDepth").value);

        // Single tank Dimension
        const tank_length = 0.77;
        const tank_width = 0.385;
        const tank_depth = 0.422;
        const void_ratio = 95;
        const module_single = 2;
        // const large_lattice = 2;
        // const small_lattice = 2;
        // const protector_ring = 16.0;

        let tankLengthSide = isNaN(pitLength)
          ? Math.round(volume / (pitWidth * pitDepth) / tank_length)
          : Math.round(pitLength / tank_length);

        let tankWidthSide = isNaN(pitWidth)
          ? Math.round(volume / (pitLength * pitDepth) / tank_width)
          : Math.round(pitWidth / tank_width);

        let tankDepthSide = isNaN(pitDepth)
          ? Math.round(volume / (pitLength * pitWidth) / tank_depth)
          : Math.round(pitDepth / tank_depth);

        //corrected pit sizes
        const correctedPitLength = tankLengthSide * tank_length;
        const correctedPitWidth = tankWidthSide * tank_width;
        const correctedPitDepth = tankDepthSide * tank_depth;

        // Formulas
        let inputStorageVolume =
          (correctedPitLength *
            correctedPitWidth *
            correctedPitDepth *
            void_ratio) /
          100;
        let totalTank = tankLengthSide * tankWidthSide * tankDepthSide;

        let tankAreaPerLayer = correctedPitLength * correctedPitWidth;
        let grossVolume = isNaN(volume)
          ? correctedPitDepth * correctedPitLength * correctedPitWidth
          : volume;

        let module = totalTank * module_single;
        let largeSideWallLattice = tankLengthSide * tankDepthSide * 2;
        let smallSideWallLattice = tankWidthSide * tankDepthSide * 2;
        let topSurfaceProtector = tankLengthSide * tankWidthSide * 8;
        let bespokeStructureSingleBlockConnector =
          (tankLengthSide - 1) * (tankWidthSide - 1) * 4;
        let bespokeStructureMultiBlockConnector =
          (tankLengthSide - 1) * (tankWidthSide - 1) * (tankDepthSide - 1) * 2;
        let geotextile =
          2 *
          ((2 * (correctedPitLength * correctedPitWidth) +
            2 * (correctedPitWidth * correctedPitDepth) +
            2 * (correctedPitLength * correctedPitDepth)) *
            1.2) *
          1.2;

        let impermeableMembrane =
          (2 * (correctedPitLength * correctedPitWidth) +
            2 * (correctedPitWidth * correctedPitDepth) +
            2 * (correctedPitLength * correctedPitDepth)) *
          1.2;

        // Display results
        document.getElementById("correctedPitLength").innerText =
          correctedPitLength.toFixed(3);
        document.getElementById("correctedPitWidth").innerText =
          correctedPitWidth.toFixed(3);
        document.getElementById("correctedPitDepth").innerText =
          correctedPitDepth.toFixed(3);

        document.getElementById("inputStorageVolume").innerText =
          inputStorageVolume.toFixed(3);
        document.getElementById("totalTank").innerText = totalTank.toFixed(3);
        document.getElementById("tankLengthSide").innerText =
          tankLengthSide.toFixed(3);
        document.getElementById("tankWidthSide").innerText =
          tankWidthSide.toFixed(3);
        document.getElementById("tankDepthSide").innerText =
          tankDepthSide.toFixed(3);
        document.getElementById("tankAreaPerLayer").innerText =
          tankAreaPerLayer.toFixed(3);
        document.getElementById("grossVolume").innerText =
          grossVolume.toFixed(3);

        document.getElementById("module").innerText = module.toFixed(3);
        document.getElementById("largeSideWallLattice").innerText =
          largeSideWallLattice.toFixed(3);
        document.getElementById("smallSideWallLattice").innerText =
          smallSideWallLattice.toFixed(3);
        document.getElementById("topSurfaceProtector").innerText =
          topSurfaceProtector.toFixed(3);
        document.getElementById(
          "bespokeStructureSingleBlockConnector"
        ).innerText = bespokeStructureSingleBlockConnector.toFixed(3);
        document.getElementById(
          "bespokeStructureMultiBlockConnector"
        ).innerText = bespokeStructureMultiBlockConnector.toFixed(3);
        document.getElementById("geotextile").innerText = geotextile.toFixed(3);
        document.getElementById("impermeableMembrane").innerText =
          impermeableMembrane.toFixed(3);
      }
    </script>
  </body>
</html>
